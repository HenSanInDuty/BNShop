<div class="w-full h-full flex flex-col ">
  <div class="flex w-full pt-4 bg-white border-b">
    <tds-page-header title="Đánh giá của khách hàng">
      <tds-page-header-content>
        <div class="w-full">
          <a routerLink="/store/review" routerLinkActive #rls="routerLinkActive">
            <tds-tag mode="checkable" [disabled]="true" [checked]="rls.isActive"
              [rounded]='rls.isActive ? "rounded-full":"rounded-full rounded-full !border-0"' class="mr-2">
              Đánh giá
            </tds-tag>
          </a>
        </div>
      </tds-page-header-content>
    </tds-page-header>
  </div>
  <div class="flex-auto p-4 h-full w-full">
    <div class="bg-white  w-full pb-2.5 h-full  rounded-lg  overflow-hidden  flex flex-col">
      <div class="flex items-center  justify-between px-4">

        <div class="flex gap-2">
        </div>
      </div>
      <div class="w-full h-full">
        <tds-table #table showSizeChanger [frontPagination]="false" (queryParams)="onQueryParamsChange($event)"
          (currentPageDataChange)="onCurrentPageDataChange($event)" [scroll]="{y:'auto'}" [loading]="loading"
          [total]="lstAccount.length" [(pageSize)]="pageSize" [listData]="lstAccount" [(pageIndex)]="pageIndex">
          <thead>
            <tr>
              <th width="48px">
                STT
              </th>
              <th width="100px">
                Mã sản phẩm
              </th>
              <th width="100px">
                Tên sản phẩm
              </th>
              <th width="100px">
                Tên sản phẩm
              </th>
              <th width="150px">Khách hàng đánh giá</th>
              <th width="100px">Hình ảnh</th>
              <th width="100px">Đánh giá</th>
              <th width="100px" [tdsRight]="true">Thao tác</th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let data of table.data; let i = index">
              <tr>
                <td width="48px">
                  {{(pageIndex-1) * pageSize + i + 1}}
                </td>
                <td width="100px">
                  {{data.product_info.product_no}}
                </td>
                <td width="100px">
                  {{data.product_info.name}}
                </td>
                <td width="100px">
                  {{data.product_info.name}}
                </td>
                <td width="150px">
                  <div class="flex flex-col">
                    <div class="text-body-2 font-regular text-neutral-1-900">
                      {{ data.customer_info.name }}
                    </div>
                    <div class="flex items-center gap-1 text-neutral-1-400 text-body-2 font-regular"><i
                        class="tdsi-call-fill text-neutral-1-500"></i> {{ data.customer_info.phone}} </div>
                  </div>
                </td>
                <td width="100px">
                  <tds-avatar [shape]="'square'" [isAvatar]="false" [size]="'lg'"
                    [tdsSrc]=data.product_info.display_image>
                  </tds-avatar>
                </td>
                <td width="100px">
                  <tds-rate size="xl" [ngModel]="data.star || 0" [disabled]="true"></tds-rate>
                </td>
                <td width="100px" [tdsRight]="true">
                  <div  *ngIf="data?.reply?.length! === 0 || !data?.reply" (click)="onActiveProduct(data)"
                      class="flex gap-2 items-center text-body-2 font-medium text-info-500 cursor-pointer">
                      <i class="tdsi-reply-fill"></i>
                      Phản hồi
                    </div>
                 
               

                </td>
              </tr>
            
      </ng-container>
      </tbody>
      </tds-table>
    </div>
  </div>
</div>
</div>