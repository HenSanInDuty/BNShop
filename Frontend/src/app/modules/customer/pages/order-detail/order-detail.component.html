<tds-spin [spinning]="false" class="min-h-[600px]">
  <div class="flex  items-center justify-center gap-8  h-full w-full bg-neutral-3-300   overflow-hidden">
    <div class="flex flex-col gap-4 items-center  h-full w-full lg:max-w-7xl  pb-4 pt-10 ">
      <div class="flex flex-col gap-4 w-full h-full">
        <div class="flex flex-col items-center gap-8 min-h-[600px] h-full w-full  bg-white px-[150px] py-[50px]">
          <tds-breadcrumb>
            <tds-breadcrumb-item><a [routerLink]="['/customer/']">Trang chủ</a></tds-breadcrumb-item>
            <tds-breadcrumb-item>
              <div class="text-primary-1">Trang thanh toán</div>
            </tds-breadcrumb-item>
          </tds-breadcrumb>
          <ng-container *ngIf="lstOrder.length >0; then thenTemplate; else elseTemplate"></ng-container>
          <ng-template #thenTemplate>
            <div class="flex flex-col gap-8 w-full min-h-[500px] pt-8">
              <div class="flex gap-2 justify-between items-center w-full">
                <div class="w-3/5 text-header-2 font-semibold font-sans text-neutral-1-900">Sản phẩm</div>
                <div class="w-2/5 grid grid-cols-3 justify-end">
                  <div class="text-header-2 font-semibold font-sans text-neutral-1-900">Đơn giả</div>
                  <div class="text-header-2 font-semibold font-sans text-neutral-1-900">Số lượng</div>
                  <div class="text-header-2 font-semibold font-sans text-neutral-1-900">Số tiền</div>
                </div>
              </div>
              <div class="flex flex-col gap-8 w-full">
                <div class="flex flex-col gap-8 min-h-[500px]">
                  <div *ngFor="let order of lstOrderBackup; let i=index;"
                    class="min flex justify-between gap-2 items-center w-full pb-8 border-b border-neutral-2-200">
                    <div class="flex items-center gap-8 w-3/5">
                      <tds-avatar [shape]="'square'" [size]="100" [tdsSrc]="order.product.display_image">
                      </tds-avatar>
                    </div>
                    <div class="w-2/5 grid grid-cols-3 justify-end">
                      <div class="flex justify-between items-end">
                        <div class="flex gap-1  text-body-2 font-medium text-neutral-1-900"> <u
                            class="text-neutral-1-400 font-regular">đ</u>
                          {{order.product.last_price.price| number : '1.0-0'}}</div>
                      </div>
                      <div class="flex gap-8 items-end">
                        <div class="flex gap-2 w-2/3 items-center mr-2">
                          <tds-input-number (ngModelChange)="onChange($event , i)" [min]="0" [max]="order.product.quantity" [step]="1"
                            [(ngModel)]="order.qty">
                          </tds-input-number>
                          <!-- <div class="text-body-2 font-semibold text-neutral-1-800">{{quantity}}</div> -->
                        </div>
                      </div>
                      <div class="flex justify-between items-end">
                        <div class="flex gap-1  text-body-2 font-medium text-neutral-1-900"> <u
                            class="text-neutral-1-400 font-regular">đ</u>
                          {{order.product.last_price.price*order.qty| number : '1.0-0'}}</div>
                      </div>
                    </div>
                  </div>
                  <div class="flex justify-end py-4">
                    <div class="flex flex-col gap-4 pr-[50px]">
                      <div class="flex gap-4">
                        <div class="text-body-2 font-regular text-neutral-1-900">Phí giao hàng</div>
                        <div class="flex gap-1  text-body-2 font-medium text-neutral-1-900"> <u
                            class="text-neutral-1-400 font-regular">đ</u> 0</div>
                      </div>
                      <div class="flex gap-4 w-52">
                        <div class="text-title-1 font-medium text-neutral-1-900">Tổng tiền </div>
                        <div class="flex gap-1 text-header-1 text-primary-1 font-semibold"> <u>đ</u>
                          {{total|number : '1.0-0'}}</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="flex justify-end gap-32">
                  <Button (click)="sumbmit()"
                    class="px-8 py-3 rounded-md hover:bg-primary-2  bg-primary-1 text-white text-body-2 font-normal">Tiến
                    hành
                    đặt hàng</Button>
                </div>
              </div>
              <div class=""></div>
            </div>
          </ng-template>
          <ng-template #elseTemplate>
            <div class="w-full h-full flex items-center justify-center">
              <tds-empty [notFoundContent]="contentTpl">
                <ng-template #contentTpl>
                  <div class="text-heading-2 text-neutral-1-900 font-semibold">
                    Không có đơn hàng nào
                  </div>
                </ng-template>
              </tds-empty>
            </div>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</tds-spin>