<tds-spin [spinning]="isSubmit">
  <form id="resetPasswordForm" [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-4">
      <tds-form-field [color]="checkOldPass ? 'default':'error'">
        <tds-label>Mật khẩu mới</tds-label>
        <div class="flex items-center">
          <input tdsInput autocomplete="off" [type]=" isShowPassWord ? 'text' : 'password' "
            placeholder="Nhập mật khẩu mới" [required]="true" formControlName="newPassword" />
          <span tdsSuffix><i (click)="showPassword()"
              [ngClass]="isShowPassWord ? 'tdsi-eye-open-fill' : 'tdsi-eye-close-fill'"
              class="text-neutral-1-400"></i></span>
        </div>
        <tds-error>
          <span *ngIf="resetPasswordForm.controls['newPassword'].hasError('required')">Vui lòng nhập mật khẩu
            mới</span>
          <span *ngIf="resetPasswordForm.controls['newPassword'].hasError('pattern')">Mật khẩu từ 8-32 kí tự
            gồm chữ hoa, chữ
            thường và số</span>
          <span *ngIf="!checkOldPass">Mật khẩu không được trùng với mật khẩu cũ</span>
        </tds-error>
      </tds-form-field>
      <tds-form-field [color]="checkOldPass ? 'default':'error'">
        <tds-label>Nhập lại mật khẩu mới</tds-label>
        <div class="flex items-center">
          <input tdsInput autocomplete="off" [type]=" isShowPassWordNew ? 'text' : 'password' "
            placeholder="Nhập lại mật khẩu mới" [required]="true" formControlName="reNewPassword" />
          <span tdsSuffix><i (click)="showPasswordNew()"
              [ngClass]="isShowPassWordNew ? 'tdsi-eye-open-fill' : 'tdsi-eye-close-fill'"
              class="text-neutral-1-400"></i></span>
        </div>
        <tds-error>
          <ng-container
            *ngIf="resetPasswordForm.controls['reNewPassword'].hasError('required'); then thenTemplate; else elseTemplate">
          </ng-container>
          <ng-template #thenTemplate>
            <span>Vui lòng nhập lại mật khẩu</span>
          </ng-template>
          <ng-template #elseTemplate>
            <span
              *ngIf="resetPasswordForm.controls['reNewPassword'].hasError('notSame') && !resetPasswordForm.controls['reNewPassword'].hasError('pattern')">Mật
              khẩu nhập lại không khớp</span>
            <span *ngIf="resetPasswordForm.controls['reNewPassword'].hasError('pattern')">Mật khẩu từ 8-32 kí tự
              gồm chữ hoa, chữ
              thường và số</span>
            <span *ngIf="!checkOldPass">Mật khẩu không được trùng với mật khẩu cũ</span>
          </ng-template>
        </tds-error>
      </tds-form-field>
      <div class="flex flex-col gap-2">
        <div class="flex gap-2.5 items-center">
          <i class="tdsi-tick-fill text-primary-1 text-xl"></i>
          <div class="text-caption-1 font-regular text-neutral-1-900">Ít nhất 8 ký tự, tối da 32 ký tự</div>
        </div>
        <div class="flex gap-2.5 items-center">
          <i class="tdsi-tick-fill text-primary-1 text-xl"></i>
          <div class="text-caption-1 font-regular text-neutral-1-900">Bao gồm chữ cái</div>
        </div>
        <div class="flex gap-2.5 items-center">
          <i class="tdsi-tick-fill text-primary-1 text-xl"></i>
          <div class="text-caption-1 font-regular text-neutral-1-900">Bao gồm số</div>
        </div>
      </div>
    </div>
    <div *tdsModalFooter class="flex justify-end gap-3 p-4">
      <button (click)="cancel()" tds-button color="secondary" class="min-w-[100px]">
        Hủy
      </button>
      <button tds-button form='resetPasswordForm' type="submit" color="primary" class="min-w-[100px]">
        Lưu
      </button>
    </div>
  </form>
</tds-spin>
